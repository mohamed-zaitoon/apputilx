<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>AppUtils Documentation â€” Gradle KTS / Groovy / Kotlin</title>
<style>
  /* ---------- Light mode only, Material-like ---------- */
  :root{
    --bg: #f4f6f9;
    --card: #ffffff;
    --accent: #6200ee;
    --accent-700: #3700b3;
    --text: #202124;
    --muted: #666;
    --radius: 12px;
    --max-width: 1100px;
  }
  *{box-sizing:border-box}
  body{
    font-family: "Roboto", "Helvetica Neue", Arial, sans-serif;
    margin:0;
    background:var(--bg);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    padding:22px;
    line-height:1.5;
  }
  .container{max-width:var(--max-width);margin:0 auto;}
  header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:18px}
  header .brand{display:flex;flex-direction:column}
  h1{font-size:1.6rem;color:var(--accent);margin:0}
  .subtitle{color:var(--muted);font-size:0.95rem}
  .badge img{max-width:170px;height:auto;display:block}

  /* Card sections */
  .section{
    background:var(--card);
    border-radius:var(--radius);
    padding:18px;
    margin-bottom:16px;
    box-shadow:0 6px 18px rgba(16,24,40,0.06);
    transition:box-shadow .18s ease, transform .12s ease;
  }
  .section:hover{box-shadow:0 10px 28px rgba(16,24,40,0.10);transform:translateY(-2px)}
  .section h2{font-size:1.05rem;margin:0 0 10px 0;display:flex;align-items:center;justify-content:space-between; gap:12px}
  .meta{color:var(--muted);font-size:0.95rem;margin-bottom:8px}

  /* Code block */
  pre{
    background:#f5f7fb;
    color:#1e1e1e;
    padding:14px;
    border-radius:9px;
    overflow:auto;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace;
    font-size:0.92rem;
    position:relative;
    white-space:pre-wrap;
    word-break:break-word;
    margin:0;
  }
  code{display:block;white-space:pre-wrap}

  /* Copy button */
  .copy-btn{
    position:absolute;
    top:10px;
    right:10px;
    background:var(--accent);
    color:#fff;
    border:0;
    border-radius:8px;
    padding:6px 10px;
    cursor:pointer;
    font-size:0.82rem;
    box-shadow:0 6px 12px rgba(98,0,238,0.12);
  }
  .copy-btn:active{transform:translateY(1px)}
  .copy-btn[aria-pressed="true"]{background:var(--accent-700)}
  .copy-btn:focus{outline:3px solid rgba(98,0,238,0.12);outline-offset:2px}

  /* Make license non-selectable explicitly */
  .license-pre{
    user-select:none;
    -webkit-user-select:none;
    -moz-user-select:none;
    -ms-user-select:none;
    background:#fff8e1;
    color:#333;
    border:1px solid rgba(0,0,0,0.04);
  }

  /* Small screens */
  @media (max-width:640px){
    body{padding:14px}
    .copy-btn{padding:8px 10px;font-size:0.78rem;top:8px;right:8px}
    h1{font-size:1.4rem}
  }

  /* Accessibility helper (focus states already set on copy-btn) */
  footer{color:var(--muted);text-align:center;padding-top:10px;font-size:0.9rem;margin-top:10px}
</style>
</head>
<body>
  <div class="container" role="main">
    <header>
      <div class="brand" aria-hidden="false">
        <h1>ðŸ“˜ AppUtils Documentation</h1>
        <div class="subtitle">Examples: <strong>Gradle KTS</strong>, <strong>Gradle (Groovy)</strong>, and <strong>Kotlin</strong> â€” (No Java examples)</div>
      </div>
      <div class="badge" aria-hidden="true">
        <a href="https://jitpack.io/#mohamed-zaitoon/apputils" target="_blank" rel="noopener noreferrer">
          <img src="https://jitpack.io/v/mohamed-zaitoon/apputils.svg" alt="JitPack version">
        </a>
      </div>
    </header>

    <!-- Download & Setup: KTS + Groovy -->
    <section class="section" id="setup">
      <h2>ðŸ”¹ Download & Setup (Gradle KTS & Groovy)</h2>
      <div class="meta">Add JitPack and library dependency. Choose the block for your Gradle DSL.</div>

      <div style="margin-bottom:12px">
        <strong>Kotlin DSL (build.gradle.kts)</strong>
        <pre aria-labelledby="kts-title">
<button class="copy-btn" aria-label="Copy KTS block" onclick="copyCode(this)">Copy</button>
<code>
repositories {
    maven { url = uri("https://jitpack.io") }
}

dependencies {
    implementation("com.github.mohamed-zaitoon:apputils:1.3.0")
}
</code>
        </pre>
      </div>

      <div>
        <strong>Groovy DSL (build.gradle)</strong>
        <pre aria-labelledby="groovy-title">
<button class="copy-btn" aria-label="Copy Groovy block" onclick="copyCode(this)">Copy</button>
<code>
repositories {
    maven { url 'https://jitpack.io' }
}

dependencies {
    implementation 'com.github.mohamed-zaitoon:apputils:1.3.0'
}
</code>
        </pre>
      </div>
    </section>

    <!-- Initialization (Kotlin) -->
    <section class="section" id="initialize">
      <h2>ðŸ”¹ Initialize AppUtils (Kotlin)</h2>
      <div class="meta">Call from Application.onCreate and register lifecycle callbacks.</div>
      <pre>
<button class="copy-btn" aria-label="Copy Initialize block" onclick="copyCode(this)">Copy</button>
<code>
class MyApplication : Application() {
    override fun attachBaseContext(newBase: Context) {
        super.attachBaseContext(AppUtils.attachBaseContext(newBase))
    }
    override fun onCreate() {
        super.onCreate()
        AppUtils.initialize(this)
        registerActivityLifecycleCallbacks(AppUtils.activityTracker)
    }
}
</code>
      </pre>
    </section>

    <!-- Toast -->
    <section class="section" id="toast">
      <h2>ðŸ”¹ Toast (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Toast block" onclick="copyCode(this)">Copy</button>
<code>
AppUtils.showToast("Hello World")
AppUtils.showToast("Long Toast", long = true)
</code>
      </pre>
    </section>
    
<!-- SnackBar -->
    <section class="section" id="toast">
      <h2>ðŸ”¹ SnackBar (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Toast block" onclick="copyCode(this)">Copy</button>
<code>
    AppUtils.showSnackbar(
    message = "Message",
    iconRes = R.drawable.ic_launcher,
    actionText = "Cancel",
    actionListener = View.OnClickListener { },
    length = Snackbar.LENGTH_INDEFINITE,
    position = AppUtils.SnackbarPosition.TOP
)

</code>
      </pre>
    </section>

    <!-- Connectivity -->
    <section class="section" id="connectivity">
      <h2>ðŸ”¹ Connectivity (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Connectivity block" onclick="copyCode(this)">Copy</button>
<code>
val connected = AppUtils.isConnected
AppUtils.addConnectionListener { isOnline ->
    AppUtils.showToast("Network changed: $isOnline")
}
</code>
      </pre>
    </section>

    <!-- Clipboard -->
    <section class="section" id="clipboard">
      <h2>ðŸ”¹ Clipboard (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Clipboard block" onclick="copyCode(this)">Copy</button>
<code>
AppUtils.copyText("Copied text")
val copied = AppUtils.getCopiedText()
</code>
      </pre>
    </section>

    <!-- Device Info -->
    <section class="section" id="device">
      <h2>ðŸ”¹ Device Info (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Device Info block" onclick="copyCode(this)">Copy</button>
<code>
val model = AppUtils.getDeviceModel()
val version = AppUtils.getAndroidVersion()
</code>
      </pre>
    </section>

    <!-- Dialog -->
    <section class="section" id="dialog">
      <h2>ðŸ”¹ Dialog (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Dialog block" onclick="copyCode(this)">Copy</button>
<code>
AppUtils.showDialog(
    title = "Title",
    message = "Message",
    positiveButton = "OK",
    onPositiveClick = { /* handle */ }
)
</code>
      </pre>
    </section>

    <!-- Permissions -->
    <section class="section" id="permissions">
      <h2>ðŸ”¹ Permissions (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Permissions block" onclick="copyCode(this)">Copy</button>
<code>
AppUtils.requestPermission(this, Manifest.permission.CAMERA, 1001)
</code>
      </pre>
    </section>

    <!-- Keyboard -->
    <section class="section" id="keyboard">
      <h2>ðŸ”¹ Keyboard (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Keyboard block" onclick="copyCode(this)">Copy</button>
<code>
AppUtils.hideKeyboard(this)
</code>
      </pre>
    </section>

    <!-- Sharing -->
    <section class="section" id="sharing">
      <h2>ðŸ”¹ Sharing (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Sharing block" onclick="copyCode(this)">Copy</button>
<code>
AppUtils.shareText(this, "Hello from AppUtils!")
</code>
      </pre>
    </section>

    <!-- Vibration -->
    <section class="section" id="vibration">
      <h2>ðŸ”¹ Vibration (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Vibration block" onclick="copyCode(this)">Copy</button>
<code>
AppUtils.vibrate(300)
AppUtils.vibratePattern(longArrayOf(0,200,100,300), -1)
</code>
      </pre>
    </section>

    <!-- File Utils -->
    <section class="section" id="file">
      <h2>ðŸ”¹ File Utils (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy File Utils block" onclick="copyCode(this)">Copy</button>
<code>
AppUtils.writeFile("test.txt", "Hello File!")
val content = AppUtils.readFile("test.txt")
val deleted = AppUtils.deleteFile("test.txt")
</code>
      </pre>
    </section>

    <!-- Open URL -->
    <section class="section" id="open-url">
      <h2>ðŸ”¹ Open URL (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Open URL block" onclick="copyCode(this)">Copy</button>
<code>
AppUtils.openUrl(this, "https://google.com")
</code>
      </pre>
    </section>

    <!-- Locale -->
    <section class="section" id="locale">
      <h2>ðŸ”¹ Set Locale / Language (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Locale block" onclick="copyCode(this)">Copy</button>
<code>
AppUtils.setLanguage("en")
val lang = AppUtils.loadLanguage()
</code>
      </pre>
    </section>

    <!-- Screen Capture -->
    <section class="section" id="screen-capture">
      <h2>ðŸ”¹ Screen Capture (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Screen Capture block" onclick="copyCode(this)">Copy</button>
<code>
AppUtils.blockCapture()
AppUtils.unblockCapture()
</code>
      </pre>
    </section>

    <!-- Notification -->
    <section class="section" id="notification">
      <h2>ðŸ”¹ Notification (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Notification block" onclick="copyCode(this)">Copy</button>
<code>
val intent = Intent(this, ExampleActivity::class.java)
val pendingIntent = PendingIntent.getActivity(
    this,
    0,
    intent,
    PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE
)

AppUtils.showNotification(
    channelId = "default_channel",
    title = "Hello",
    text = "This is a notification",
    iconResId = R.drawable.ic_launcher,
    intent = pendingIntent
)
</code>
      </pre>
    </section>

    <!-- App Signatures -->
    <section class="section" id="signatures">
      <h2>ðŸ”¹ App Signatures (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Signatures block" onclick="copyCode(this)">Copy</button>
<code>
val signatures = AppUtils.getAppSignatures()
val valid = AppUtils.validateAppSignature("YOUR_SHA1")
</code>
      </pre>
    </section>

    <!-- Full Usage -->
    <section class="section" id="full-usage">
      <h2>ðŸ”¹ Full Usage Flow â€” All Functions (Kotlin)</h2>
      <pre>
<button class="copy-btn" aria-label="Copy Full Usage block" onclick="copyCode(this)">Copy</button>
<code>
class DemoActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_demo)

        AppUtils.setLanguage("en")
        val lang = AppUtils.loadLanguage()
        val connected = AppUtils.isConnected
        AppUtils.addConnectionListener { isOnline ->
            AppUtils.showToast("Network: $isOnline")
        }
        AppUtils.showToast("Hello")
        val model = AppUtils.getDeviceModel()
        val version = AppUtils.getAndroidVersion()
        AppUtils.showDialog("Device Info", "$model\\n$version")
        AppUtils.log("TAG", "Message")
        AppUtils.requestPermission(this, Manifest.permission.CAMERA, 1001)
        AppUtils.hideKeyboard(this)
        AppUtils.shareText(this, "Sharing text")
        AppUtils.vibrate(300)
        AppUtils.vibratePattern(longArrayOf(0,200,100,300), -1)
        AppUtils.openUrl(this, "https://google.com")
        AppUtils.blockCapture()
        AppUtils.unblockCapture()
        AppUtils.showNotification("default_channel", "Hi", "Test Notification", R.drawable.ic_launcher_foreground)
        val signatures = AppUtils.getAppSignatures()
        val valid = AppUtils.validateAppSignature("SHA1")
        AppUtils.copyText("Copied text")
        val copied = AppUtils.getCopiedText()
    }
}
</code>
      </pre>
    </section>

    <!-- License â€” non-copyable -->
    <section class="section" id="license">
      <h2>ðŸ”¹ License</h2>
      <div class="meta">This license text is intentionally non-selectable (not copyable).</div>
      <pre class="license-pre" aria-hidden="false"><code>MIT License

Copyright (c) 2025 Mohamed Zaitoon</code></pre>
    </section>

    <footer>
      Â© 2025 Mohamed Zaitoon â€” All rights reserved. â€¢ Licensed under the MIT License.
    </footer>
  </div>

  <script>
    // Copy button handler â€” safe selection of the <code> element
    function copyCode(btn){
      try {
        // find nearest <code> inside same pre (or next sibling)
        const pre = btn.parentElement;
        let codeEl = pre.querySelector('code');
        if(!codeEl){
          // fallback: try next sibling
          const next = btn.nextElementSibling;
          if(next && next.tagName.toLowerCase()==='code') codeEl = next;
        }
        if(!codeEl) return;
        const text = codeEl.innerText;

        // Use Clipboard API if available, otherwise execCommand fallback
        if(navigator.clipboard && navigator.clipboard.writeText){
          navigator.clipboard.writeText(text).then(()=> {
            btn.innerText = 'Copied!';
            btn.setAttribute('aria-pressed','true');
            setTimeout(()=>{ btn.innerText = 'Copy'; btn.setAttribute('aria-pressed','false'); }, 1000);
          }).catch(()=> fallbackCopy(text, btn));
        } else {
          fallbackCopy(text, btn);
        }
      } catch(e){
        console.error('copy failed', e);
      }
    }

    function fallbackCopy(text, btn){
      try {
        const textarea = document.createElement('textarea');
        textarea.value = text;
        textarea.setAttribute('readonly','');
        textarea.style.position = 'absolute';
        textarea.style.left = '-9999px';
        document.body.appendChild(textarea);
        textarea.select();
        textarea.setSelectionRange(0, textarea.value.length);
        const ok = document.execCommand('copy');
        document.body.removeChild(textarea);
        if(ok){
          btn.innerText = 'Copied!';
          btn.setAttribute('aria-pressed','true');
          setTimeout(()=>{ btn.innerText = 'Copy'; btn.setAttribute('aria-pressed','false'); }, 1000);
        } else {
          // silent fail
          btn.innerText = 'Copy';
        }
      } catch(err){
        console.error(err);
      }
    }

    // Accessibility: allow Enter/Space on focused buttons (browser handles by default)
    document.addEventListener('keydown', function(e){
      if((e.key === 'Enter' || e.key === ' ') && document.activeElement && document.activeElement.classList.contains('copy-btn')){
        e.preventDefault();
        document.activeElement.click();
      }
    });
  </script>
</body>
</html>